(function(x){var p=window.AmazonUIPageJS||window.P,ea=p._namespace||p.attributeErrors,f=ea?ea("DetailPageImageBlockAssets",""):p;f.guardFatal?f.guardFatal(x)(f,window):f.execute(function(){x(f,window)})})(function(x,p,ea){x.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=p.ue;if(a){var b=a.count(f)||0;a.count(f,b+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var b=p.ue;b&&b.count(f,a)}}}});"use strict";x.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});x.register("postEarlyMetric",function(){return null});"use strict";x.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,b,l){f=f.extend(!0,{},b,l);var k=new a(f);x.register("ImageBlockAPI",function(){return k.api});return k});"use strict";x.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){p.performance&&performance.now&&p.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";x.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(f){function a(b){b&&(x.load.js(b),p.performance&&performance.now&&p.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",p.parseInt(performance.now())))}function b(b){b&&x.load.css(b)}var l=f.airyConfig;l===ea?x.when("ImageBlockBTF").execute(function(f){l=f.airyConfig;a(l.jsUrl);b(l.cssUrl)}):(a(l.jsUrl),b(l.cssUrl))});"use strict";x.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,a,b,l,k){var d={};return function(F){var h=this;h.dispatch=function(b,a){var h=d[b];l.isDefined(h)&&f.each(h,function(b,d){d.call(p,a)})};h.register=function(b,a){l.isDefined(d[b])||(d[b]=[]);"function"===typeof a&&d[b].push(a)};h.model=new a(F,h);h.view=new b(F,h,h.model);h.api=new k(F,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";x.when("A","imageBlockUtils").register("ImageBlockModel",
function(f,a){function b(b,d,f,h,k){a.isDefined(b)&&(I.type=b);a.isDefined(d)&&(I.index=d);a.isDefined(f)&&(I.thumbnailIndex=f);a.isDefined(h)&&(I.variant=h);a.isDefined(k)&&(I.color=k)}function l(a){b("image",0,0,"MAIN",a||h.landingAsinColor||h.defaultColor)}function k(a){a=a.data;C=f.copy(I);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function d(b){k(b);b=f.copy(b);b.data=f.copy(I);m.dispatch("updateView",b)}function F(){C=f.copy(I);l(I.color)}var h,m,I={},C={},H,p;return function(b,a){m=
a;h=b;m.register("updateSelection",d);m.register("updateModel",k);m.register("resetModel",F);this.init=function(){l()};this.getCurrentItem=function(){return f.copy(I)};this.getPreviousItem=function(){return f.copy(C)};this.setCurrentEvent=function(b){H=b};this.getCurrentEvent=function(){return H};this.setImmersiveViewModalInstance=function(b){p=b};this.getImmersiveViewModalInstance=function(){return p};this.updateTitle=function(b){h.title=b}}});"use strict";x.when("ImageBlockBTF","postMetric").execute(function(f,
a){function b(b,a,F,h,l){function I(b){"click"===b.type&&h.postCountMetric("thumbClick");"click"===b.type&&t.overrideAltImageClickAction?r.dispatch("thumbActionClick",b):r.dispatch("updateSelection",b)}function C(b){t.useClickZoom||r.dispatch("imageClick",b)}function H(b){t.useClickZoom||r.dispatch("imageHover",b)}function L(b){r.dispatch("button360Click",b)}function z(a){!F.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(q.update(a),"swatchHover"!==a.type&&y.getPreviousItem().thumbnailIndex!==
a.data.thumbnailIndex&&h.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(q.render(a.data.color,!1,a.onload),a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",a))}function G(b){r.dispatch("resize",b)}function P(b){F.selectThumbnail(b,E)}function O(){"function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function K(){"function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===f.useIV?x.when("a-modal").execute(function(){O()}):O();t.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],I);b.declarative("thumb-action",["click"],
I);b.declarative("main-image-click",["click"],C);b.declarative("main-image-click",["mouseenter","mouseleave"],H);b.declarative("button-360-click",["click"],L);b.on("resize",G)}function c(b){var a=b.data,g;a&&"ingress"!==a.type&&"click"===b.type&&(g=b);return g}function A(b){var a=y.getCurrentItem(),g={type:"click"};g.$declarativeParent=b;g.data=a;return g}var q,t,r,y,E;return function(b,f,g){q=this;t=b;r=f;y=g;E=a("#imageBlock #altImages ul");var e=a("#imageBlock .canvas"),n=a("#main-image-container"),
h;q.subViews=[];for(f=0;f<l.length;f++)q.subViews.push(new l[f](b,g,q,r));q.render=function(b,g,c){var f=0;E.find(".item").remove();b=b||y.getCurrentItem().color;a.each(q.subViews,function(a,d){f=d.render(b,f,e,E,n,g,c)||f});var r=E.find(".a-button-selected").closest(".a-declarative");h=A(r)};q.init=function(){E=a("#imageBlock #altImages ul");var b=E.find(".a-button-selected").closest(".a-declarative"),g=b.data("action"),b=b.data(g)||{};b.color=t.landingAsinColor||t.defaultColor;r.dispatch("updateModel",
{data:b});q.render(b.color,!0);t.isDebug&&p.console&&console.log(t);r.register("updateView",z);r.register("selectThumbnail",P);K()};q.update=function(b){a.each(q.subViews,function(a,g){g.update(b)});t.usePeekHover&&("mouseleave"===b.type?r.dispatch("updateSelection",h):"click"===b.type&&(h=c(b)||h))}}}var l=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);x.when.apply(x,l).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],f=arguments[2],h=arguments[3],l=[],I=
4,p=arguments.length;I<p;I++)l.push(arguments[I]);return b(a,d,f,h,l)})});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,a,b,l,k,d,F){function h(g,c,e,d){if(!b.isjQueryObjDefined(g.find(".a-button-selected"))){var n=y.getCurrentItem();if(!d||"chromeless-video"!==n.type||!r.autoplayVideo){d=0;"image"===n.type&&(d=Math.max(p(n.color,n.variant),0));var f=c+d;f>=e&&(d=0,f=c);
c=b.getImageHash(n.color,d,r);-1!==c&&(E.dispatch("updateModel",{data:{index:d,thumbnailIndex:f,variant:c.variant,type:"image"}}),c=g.find(".item").get(f),b.selectGivenThumbnail(a(c),g))}}}function m(g,c,e){c=r.colorImages&&r.colorImages[c];var n=g;b.isDefined(c)&&(a.each(c,function(a,c){g<r.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:g,variant:c.variant},c.thumb,J,"imageThumbnail"),g++)}),d.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(a,d,y),h(J,n,g,e));return g}function I(b,
g){if("image"===b.type){var c=a("#image-canvas-caption #canvasCaption"),e,d=r.staticStrings,n=r.colorImages,f=b.color,h=b.index;g&&r.useIV?e=d.clickToExpand:n[f]&&n[f][h].hiRes&&r.useHoverZoom?(e=r.useHoverZoomIpad?d.touchToZoom:r.useClickZoom?d.clickToZoom:d.rollOverToZoom,r.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+r.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):r.useIV&&(e=d.clickToExpand);c.html(e)}}function p(a,g){return b.getIndexForVariant(a,g,r)}function H(c,e){var d="a-dynamic-image";
if(!r.acEnabled){var n;a.each(c.main,function(a,g){b.isDefined(n)||(n=parseFloat(g[1]/g[0])<=parseFloat(r.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=n}var f=b.getMaxDimensionsOfMainImage(c.main,g,r),h=f[0],q=f[1],f=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":q};f.addClass(d).css(h).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",c.main);return f}function L(b){var a=v.find(".swatchHoverExp");b=H(b);a.find(".imgTagWrapper").html(b);
f.loadImageManually(b);return a}function z(b){var a=g.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");r.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(r.imgTagWrapperClasses)}function G(a,g){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(g)&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");var c=b.getImageHash(a.color,a.index,r);if(-1===c)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
b.lazyLoadingRequired(a,y,r)?K(a,!1,g):(E.dispatch("updateModel",c),b.showUnavailable(a.color)),-1;var e=v.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(e)){var e=a.thumbnailIndex,e=v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+e+" maintain-height"),n=H(c,g);e.find(".placeHolder").replaceWith(n);v.find(".list").append(e);f.loadImageManually(n)}z(e);E.dispatch("loadMagnifier");I(a);r.useIV&&b.isDefined(c.hiRes)&&e.css("cursor",
"pointer");a.isUserGenerated&&(e=y.getPreviousItem(),n=a.variant,b.isDefined(n)&&e.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&F.logAltImgRequestServed(d),k.postCountMetric("ImageThumbnailSelectedVariant:"+n),0===n.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+n),k.postCountMetric("IGImageSelectedEvent:"+a.interaction))));f.trigger("dp:image-block:update",c)}}function P(a){var g=Math.max(p(a.color,y.getCurrentItem().variant),0),g=b.getImageHash(a.color,g,r);if(-1===g)return b.lazyLoadingRequired(a,
y,r)?b.lazyLoadOnHoverEnabled(r)&&(O(".3",!0),b.spinner(v,!0),f.delay(function(){y.getCurrentEvent().data===a&&K(a,!0)},500)):b.showUnavailable(a.color),-1;var c=L(g);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");z(c);f.trigger("dp:image-block:update",g)}function O(b,g){g?v.css("opacity",b):a("#imageBlock").css("opacity",b)}function K(a,g,d){e=g;n=d;var f=a.color,h=r.colorToAsin[f];if(h&&h.asin){var q={};q.params={asin:h.asin,productGroupID:r.productGroupID,color:f};q.success=function(q){q?
(k.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),b.ajaxState(h.asin,"success"),r.colorImages[f]=q.colorImage,b.isDefined(r.spin360ColorEnabled)&&(r.spin360ColorEnabled[f]=q.enable360),f===a.color&&(g&&e?(k.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),a===y.getCurrentEvent().data&&(c(a),P(a))):(k.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),q={type:"updatedData",data:y.getCurrentItem(),onload:d||n},E.dispatch("updateView",q))),x.register(b.rankedImagesReadyEvent(h.asin))):
(k.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),b.ajaxState(h.asin,"fail"))};q.error=function(){k.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");b.ajaxState(h.asin,"fail")};q.indicator=b.spinner(v);b.ajaxState(h.asin,void 0)&&"fail"!==b.ajaxState(h.asin,void 0)||(g?k.postCountMetric("lazyloadImageBlockOnTwisterHover"):k.postCountMetric("lazyloadImageBlockOnTwisterClick"),O(".3",g),l.load("/gp/product/features/apparel-main-image/ranked-images.html",q),b.ajaxState(h.asin,"sent"));
return r.colorImages&&r.colorImages[f]}}function c(g,c){b.lazyLoadingRequired(g,y,r)||(a("#imageBlock").css("opacity","1"),v.css("opacity","1"),b.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),c&&v.find(".list .item").remove())}function A(){var c=v.find(".item .imgTagWrapper"),e=b.getContainerHeight(g,r.holderRatio,r.holderMaxHeight);0<e&&(g.height(e),c.height(e));v.find("img.a-dynamic-image").each(function(){var c=a(this);
c.data("a-manual-replacement")&&f.loadDynamicImage(this);var e=c.data("a-dynamic-image"),e=b.getMaxDimensionsOfMainImage(e,g,r);c.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function q(b){I(y.getCurrentItem(),"mouseenter"===b.type)}var t,r,y,E,J,v,g,e,n,u;return function(a,e,n,d){t=this;r=a;y=e;E=d;r.colorImages[r.landingAsinColor]=r.colorImages[r.defaultColor];t.render=function(a,e,n,d,f,h,q){v=n;J=d;g=f;u=m(e,a,h);h||(a=y.getCurrentItem(),b.lazyLoadingRequired(a,y,r)&&E.dispatch("updateModel",
{data:{type:"lazy-loaded"}}));c(y.getCurrentItem(),!h);G(y.getCurrentItem(),q);return u};t.update=function(a){var g=a.data;y.setCurrentEvent(a);"ingress"!==g.type&&c(a.data,!1);"swatchHover"===a.type?g.color===y.getCurrentItem().color?G(y.getCurrentItem()):a.captured||-1===P(g)||(a.captured=!0):"image"===g.type&&(g.interaction=a.type,g.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+u),G(g),r.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,
J),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+u))))};r.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");E.register("imageHover",q);E.register("resize",A)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,a,b,l,k,d){function F(a){O?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):
(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(c))for(var c=c[1].split("_"),d=0;d<c.length;d++){var f=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(f)&&(a[f[1]]=parseInt(f[2],10))}return a}function m(m,c){function A(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,z[0]-(D[0]+a))/(D[2]-2*a)),Math.min(1,Math.max(0,z[1]-(D[1]+a))/(D[3]-2*a))]):a=
u&&u.updatePosition();if(a&&n&&n.detailSize){var b=[n.detailSize[0]-n.rect.width,n.detailSize[1]-n.rect.height];f.capabilities.rtl?n.detailImage.get(0).style.right=-(a[0]*b[0])+"px":n.detailImage.get(0).style.left=-(a[0]*b[0])+"px";n.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function t(b){var g=V?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";z=V?[g.pageX,g.pageY]:[b.pageX,b.pageY];if(f.capabilities.rtl){var c=
a(p).width();z=V?[c-g.pageX,g.pageY]:[c-b.pageX,b.pageY]}}function r(a){V&&a.preventDefault();t(a);c.useClickZoom?a=[D[0],D[1],D[0]+D[2],D[1]+D[3]]:(a=u?u.offset:m.offsetParent().offset(),a=H.acEnabled?[a.left,a.top,g.width()+a.left,g.height()+a.top]:[C[0]+a.left,C[1]+a.top,C[0]+C[2]+a.left,C[1]+C[3]+a.top]);z[0]<a[0]||z[1]<a[1]||z[0]>=a[2]||z[1]>=a[3]||H.acEnabled&&!q(m)?(c.fadeMagnifier?Y||(Y=!0,P=setTimeout(function(){y(!0)},500)):c.useClickZoom||y(),B&&(B=!1,clearTimeout(Z))):(B||(B=!0,Z=setTimeout(function(){l.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&d.logHoverZoomRequestServed(k)},1E3)),c.fadeMagnifier&&Y&&(Y=!1,clearTimeout(P)),A())}function y(b){b&&v.suppressMagnifier(!0);if(Q&&(n&&n.hide(),u&&(u.destroy(),u=null),Q=!1,V?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),I(),b))m.one("click.magnifier touchstart.magnifier",function(a){E(a,!0)})}function E(b,e){e&&v.suppressMagnifier(!1);if(!Q&&
!aa&&(0===fa&&(l.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),fa=1),G[U]||(l.postCountMetric("dppc_hoverMain"),G[U]=1),C=[m.position().left,m.position().top,m.width(),m.height()],U&&(t(b),n?n.refit().show():n=new L,c.useClickZoom||(u=u||new x),D=n.getWindowSize(),A()),Q=!0,V?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",r).bind("touchend.magnifier",y),a(document).trigger("engaged.magnifier")):(H.acEnabled?g.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",r)),e)){var d=a("#zoomWindow");if(0<d.length)d.one("click.magnifier touchend.magnifier",function(a){y(!0)})}}function I(){c.useHoverZoom&&(V?m.bind("touchstart.magnifier touchmove.magnifier",E):H.acEnabled?q(m)&&g.bind("mousemove.magnifier",E):m.bind("mousemove.magnifier",E))}var v=this,g=m.offsetParent(),e={detailImageUrl:m.attr("data-old-hires"),location:"over",locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
a.extend(e,c);c.adjustment=[10,0,-10,0];var n=null,u=null,z=null,C=null,D=null,M={"null":1,"":1,undefined:1},Q=!1,aa=!1,U=c.detailImageUrl,V=c.useHoverZoomIpad||0,fa=0,G={},x=function(){function b(a){var g=Math.round(Math.min(m.width(),n.rect.width/a));a=Math.round(Math.min(m.height(),n.rect.height/a));h.css({width:g,height:a});e=[g,a]}var g=this,e=[0,0],d=(n.detailSize&&n.detailSize[0]||5E8)/C[2],f=(n.detailSize&&n.detailSize[1]||5E8)/C[3],d=f>d?f:d;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});H.showMagnifierOnHover?F(h):h.css("cursor","pointer");g.updatePosition=function(){var a=[C[2]-e[0],C[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(z[0]-e[0]/2-C[0]-g.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-e[1]/2-C[1]-g.offset.top)/a[1])),d=C[0]+Math.round(b*a[0]),a=C[1]+Math.round(c*a[1]);h.get(0).style.left=d+"px";h.get(0).style.top=a+"px";return[b,c]};g.destroy=function(){h.remove()};
g.offset=m.offsetParent().offset();b(d);g.updatePosition();h.appendTo(m.parent());n.detailImage[0].complete||n.detailImage.load(function(){var a=n.detailImage.width()/C[2];b(a);g.updatePosition()})};x.preload=function(){v.preload(c.generalImageUrls.lensBackgroundUrl)};var L=function(){function g(){var e={};if("over"===c.location){var e=c.useClickZoom,n={},h=a("#leftCol"),r=a("#centerCol"),t=a("#rightCol"),A=a("#hover-zoom-end"),u=a("#actionPanelContainer"),k=b.isjQueryObjDefined(h)?h.outerHeight():
r.outerHeight();n.top=b.isjQueryObjDefined(h)?h.offset().top:r.offset().top;n.bottom=k+n.top;n.right=b.isjQueryObjDefined(t)?t.offset().left:u.offset().left;n.left=e?0:h.offset().left+h.outerWidth();b.isjQueryObjDefined(A)&&A.offset().top>n.bottom&&(n.bottom=A.offset().top);e=n}else"right"===c.location&&(e=m.offset(),e={left:e.left+m.outerWidth(),top:e.top,right:e.left+m.outerWidth()+400,bottom:e.top+400});c.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+a(c.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,a(p).scrollTop()+a(p).height());e.left+=f[0];e.top+=f[1];e.right+=f[2];e.bottom+=f[3];e.width=e.right-e.left;e.height=e.bottom-e.top;c.enhancedHoverOverlay&&b.isDefined(p.pageXOffset)&&(n=a(p).width(),e.width=n-e.left+p.pageXOffset-18,e.height-=14);q.css({left:e.left,top:e.top,width:e.width,height:e.height});d.rect=e;return d}function e(a){var b=new Image;d.detailSize=[0,0];b.onload=function(){d.detailSize=[b.width,b.height];A()};b.src=a.attr("src");if(0<b.width&&0<b.height)d.detailSize=
[b.width,b.height];else if(c.detailImageSize)d.detailSize=c.detailImageSize;else{a=h(b.src);var g=C[2]/C[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/g)]:a.SY?d.detailSize=[Math.round(a.SY*g),a.SY]:a.SL&&(d.detailSize=1<=g?[a.SL,Math.round(a.SL/g)]:[Math.round(a.SL*g),a.SL])}}var d=this,f=c.adjustment;a("#zoomWindow").remove();var n={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(n.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
n.border="1px solid #949494",n.borderColor="rgb(148,148,148)");var q=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(n);c.fadeMagnifier&&q.fadeIn(200);c.useClickZoom&&(O?q.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor","-moz-zoom-out"),q.css("cursor","zoom-out")));d.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();q.append(b);a(document).trigger("updated.magnifier");
d.detailImage=b;e(d.detailImage)};d.refit=function(){g();e(d.detailImage);return d};c.fadeMagnifier?(d.show=function(){q.fadeIn(200);return d},d.hide=function(){q.fadeOut(200);return d}):(d.show=function(){q.show();return d},d.hide=function(){q.hide();return d});d.destroy=function(){q.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(U);g();q.appendTo(document.body)},Y=!1,P,B=!1,Z;v.preload=function(b){b=a.makeArray(b);for(var g=
b.length,e=0;e<g;e++)b[e]instanceof Array?v.preload(b[e]):"string"===typeof b[e]&&b[e]&&!M[b[e]]&&(M[b[e]]=new Image,M[b[e]].src=b[e])};v.changeImage=function(b,e){Q&&y();U=e;m.attr("src",b);v.preload(b);C=[m.position().left,m.position().top,m.width(),m.height()];e&&("immediately"===c.preload?v.preload(e,!0):a(p).ready(function(){v.preload(e)}),n?n.updateImage(e):m.attr("data-old-hires",e))};v.destroy=function(){H.acEnabled?g.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");u&&u.destroy();u=null;n&&n.destroy();n=null};v.detailImage=function(){return n.detailImage};v.suppressMagnifier=function(a){aa=a};v.isEngaged=function(){return Q};v.engageMagnifier=E;v.disengageMagnifier=y;m[0].complete?I():m.one("load",I);v.preload(m.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var ja=
c.detailImageUrl,e=function(){v.preload(ja,!0);c.useClickZoom||x.preload()},X=c.preload;X.constructor!==Array&&(X=[X]);for(var w=0;w<X.length;w++)if("immediately"===X[w])e();else if(a(p)[X[w]])a(p)[X[w]](e);else a(p).bind(X[w],e)}return v}function I(){if(H.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:H.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:H.useHoverZoomIpad,useHoverZoom:H.useHoverZoom,useClickZoom:H.useClickZoom,fadeMagnifier:H.fadeMagnifier,
zoomOutIcon:H.staticImages.zoomOutCur,enhancedHoverOverlay:H.enhancedHoverOverlay||H.atfEnhancedHoverOverlay};G&&(G.destroy(),G=ea);var c=x.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(c)?H.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){G=new m(c,f);G.engageMagnifier(a,!0)}),O?c.css("cursor",'url("'+H.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor",
"zoom-in"))):G=new m(c,f):k.isEnabled&&d.logHoverZoomApplicability(a,k)}}var C,H,L,z,G,x,O=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,f){C=this;H=a;L=b;k.refToModel=L;z=f;C.render=function(a,b,d,c,f,h){x=d;G&&(G.destroy(),G=ea)};C.update=function(a){};z.register("loadMagnifier",I);z.register("resize",I)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,b,l){function k(a,d,f){a=(a=f?f:b.getColorFromState(d.getState().hovered_variations,
h))&&""!==a?a:h.defaultColor;I.dispatch("updateView",{type:"swatchHover",data:{color:a}});l.postCountMetric("swatchHover")}function d(a,d,f,k){a=(a=k?k:b.getColorFromState(d.getState().selected_variations,h))&&""!==a?a:h.defaultColor;a===m.getCurrentItem().color?"function"===typeof f&&f():(I.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",
a);f()}}),l.postCountMetric("swatchClick"))}var F,h,m,I;return function(a,b,l,z){F=this;h=a;m=b;I=z;f.on("image-block-twister-swatch-hover",k);f.on("image-block-twister-swatch-click",d);F.render=function(a,b,d,f,c){};F.update=function(a){}}});"use strict";x.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,b,l,k,d,F){function h(b,e,g,d){!c.autoplayVideo||S||c.useChromelessVideoPlayer?!l.isjQueryObjDefined(b.find(".a-button-selected"))&&
(g=A.getCurrentItem(),!d||c.prioritizeVideos||"chromeless-video"===g.type&&c.autoplayVideo)&&(d=l.getVideoHash(g.color,0,c),-1!==d&&(e+=0,q.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:d.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=b.find(".item").get(e),l.selectGivenThumbnail(a(e),b))):(l.selectGivenThumbnail(b.find("img:last"),b),l.fadeToThumbnail(b.find("img").length-1,E,b))}function m(a){var b=A.getCurrentItem().color;if(c.useChildVideos&&
!c.colorToVideo[b]){var e=function(){if(a){c.colorToVideo[b]=a;var e={type:"updatedData",data:A.getCurrentItem()};q.dispatch("updateView",e)}};c.lazyLoadExperienceDisabled?e():x.when(l.rankedImagesReadyEvent(c.colorToAsin[b].asin)).execute(function(){e()})}}function I(a){if(!c.useChildVideos)return l.lazyLoadingRequired(A.getCurrentItem(),A,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var b=c.colorToAsin[a];if(b&&b.asin){var e={};e.params={asin:b.asin,productGroupID:c.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(e.success=function(a){m(a)},k.load("/gp/product/features/apparel-main-image/videos.html",e));return c.colorToVideo&&c.colorToVideo[a]}}function p(){q.dispatch("selectThumbnail",l.useTabbedImmersiveView(c)?1:0)}function H(e,g,c,f){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:e[0],streamingUrls:g.url,swfUrl:c.swfUrl,foresterMetadataParams:c.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=l.isjQueryObjDefined(e.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){e.parent().css("z-index",8)},videounsupported:function(){p();d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){p();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){v.seek(0)}},cuePoints:[{values:g.durationSeconds-1,type:"position",
callback:function(b,g,d){b=d.durationSeconds-d.playheadTimeSeconds;e.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){e.parent().css({"background-color":"transparent","z-index":-1});p();a(this).show().css("opacity",1)})}}]})}function L(b){if("chromeful-video"===b.type||"chromeless-video"===b.type){var d=l.getVideoHash(b.color,b.index,c);if(-1===d)return-1;if("chromeful-video"===b.type){b=E.width()/E.height();var n=parseInt(d.videoWidth,10),h=parseInt(d.videoHeight,
10);l.updateAspectRatio(b,n,h,r);v?(v.show(),l.loadMediaIntoAiry(v,d,g,c.tabletWeb)):v=c.tabletWeb?u:l.createAiryInstanceForChromeful(r,d,g,null,c.autoplayVideo,E,y,t);b:if(l.useTabbedImmersiveView(c)){if(1<l.getVideosCount(A.getCurrentItem().color,c)){if(l.isDefined(J)){y.show();break b}J=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(c.staticStrings.watchMoreVideos);y.find("#videoCaption").append(J);f.declarative.create(J,"videoIngressClick",e)}l.playVideoInImmersiveView(c,
A.getCurrentItem().color)&&(f.declarative.create(r,"videoIngressClick",e),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else y.find("#videoCaption").text(c.staticStrings.playVideo),y.show();d=v;c.autoplayVideo&&d&&!S&&(l.toggleVideoCaption(y),d.setVolume(0),d.show(),d.play(),S=!0)}else v?(v.show(),l.loadMediaIntoAiry(v,d,g,c.tabletWeb),v.play(),y.show()):(v=H(r,d,g))&&v.play()}}function z(b,g,f){var n=I(g);g=b;var q=l.isDefined(n)&&0<n.length&&
c.alwaysIncludeVideo?1:0;l.isDefined(n)&&0<n.length&&!c.alwaysIncludeVideo&&b===c.maxAlts&&d.postCountMetric("IBVideoDrop");q&&b===c.maxAlts&&(t.find(".item:last").remove(),b--);l.isDefined(n)&&(a.each(n,function(g,f){if(b<c.maxAlts){var h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",q={type:h,index:g,thumbnailIndex:b,variant:f.variant};e={type:"video-ingress",index:g,thumbnailIndex:b,variant:f.variant};l.useTabbedImmersiveView(c)&&("chromeful-video"===h&&(D+=" videoBlockIngress  videoBlockDarkIngress",
f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(D+=" a-align-top"));l.createThumbnail(q,f.thumb,t,D);if(2===c.dp60VideoPosition){var r=t,q=c.dp60VideoPosition;if(0!==q){var k=r.children(".imageThumbnail"),r=r.children(".videoBlockIngress");k&&r&&k[q-1]&&a(k[q-1]).before(r[0])}}l.useTabbedImmersiveView(c)&&(G(t.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL),q=1<n.length?"multiple-videos":"one-video",(k=1<n.length?n.length+" "+c.staticStrings.multipleVideos:
c.staticStrings.singleVideo)&&t.find(".videoBlockIngress").append(t.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(q));R||(R=!0,d.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));b++}if(l.useTabbedImmersiveView(c))return!1}),h(t,g,b,f));return b}function G(a,b){var e=a.attr("src");if(e&&b){a.attr("src",b);var g=new Image;g.onload=function(b){a.attr("src",e)};g.src=e}}function P(a){v&&v.pause();a.data=e;a.clickTimeStamp=
a.$event.timeStamp;var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";q.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);d.postCountMetric(b)}function O(a){u=a.player;u.hide=function(){u.pause();f.$("#main-video-container").find(".vse-player-container").hide()};u.show=function(){f.$("#main-video-container").find(".vse-player-container").show();u.play()};u.getMediaSourceInfo=function(){return l.getMediaSourceInfo()}}var K,c,A,q,t,r,y,
E,J,v,g,e,n,u,R=!1,S=!1,D="videoThumbnail";return function(b,h,k,u){K=this;c=b;A=h;q=u;g=c.airyConfig;c.colorToVideo={};c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;K.render=function(b,e,g,d,h,q){t=d;r=h.find("#main-video-container");y=r.parent().find("#video-canvas-caption");E=a("#main-image-container");c.useChromelessVideoPlayer||r.addClass("chromeful-container");n=z(e,b,q);L(A.getCurrentItem());l.useTabbedImmersiveView(c)&&f.declarative("videoIngressClick",["click"],
P);b=A.getCurrentItem().color;e=l.getVideoHash(b,0,c);-1!==e&&c.tabletWeb&&(b=l.getNilgiriServiceAjaxRequest(c,b,e),F.get(f,"#main-video-container",b,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return n};K.update=function(a){var b=a.data;"ingress"!==b.type&&v&&(v.hide(),r.parent().css("z-index",-1),y.hide());if("swatchHover"===a.type)b.color===A.getCurrentItem().color?L(A.getCurrentItem()):
a.captured||l.lazyLoadingRequired(b,A,c)&&!l.lazyLoadOnHoverEnabled(c)&&L(A.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)"mouseenter"===a.type&&d.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+n),L(b),c.usePeekHover&&"click"!==a.type||(l.selectGivenThumbnail(a.$declarativeParent,t),"click"===a.type&&l.useTabbedImmersiveView(c)&&(d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+n),e.action="videoIngressClick",e.clickTimeStamp=
a.$event.timeStamp,e.$event=a.$event,e.$currentTarget=a.$currentTarget,q.dispatch("videoIngressClick",e),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))};if(c.isDPXFeatureEnabled)f.on("triggerVideoAjax",m);f.on("vsePlayer-imageblock_tablet",O)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,b,l,k,d,F,h){function m(a){return a.hiRes||
a.large||a.main[a.main.length-1]}function I(){w.find("#ivTitle").click(function(){X.hide()})}function C(){N=Pa?{type:"360-spin"}:Z.getCurrentItem()}function H(){var a=w.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),e=b.find(".a-popover-inner"),b=b.height()-h.getDimension(e,"padding-top")-h.getDimension(e,"padding-bottom");w.css("height",b);var e=w.find("#ivTitle").outerHeight(!0),g=w.find("#ivVariationSelection").outerHeight(!0),d=w.find("#ivMediaSelection").outerHeight(!0),c=w.find("#ivThumbs"),
f=h.getDimension(c,"margin-top")+h.getDimension(c,"margin-bottom");c.css("height",b-e-g-d-f);w.find("#ivLargeImage").css("height",b);a.css("width",w.width()-h.getDimension(w,"padding-left")-h.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,"margin-right"))}function L(){w.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===
N.type&&w.find("#ivVideo_"+N.index).click()):"images"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),"chromeful-video"===N.type&&(0===ba&&0===W?w.find("#iv360").click():0===ba?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===b&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==N.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+N.index).click())})}function z(){var a=w.find("#ivStage").find("#ivLargeImage"),
b=a.width(),e=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var d=g.width(),c=g.height();0<g.length&&(g[0].naturalWidth&&(d=g[0].naturalWidth),g[0].naturalHeight&&(c=g[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:d,c=0===c?1:c,f=Math.min(b/d,e/c),n=c*f,h=d*f;1>f?(Qa?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;d=Math.min(h,d);c=Math.min(n-20,c);g.css({"margin-top":(e-
c)/2,"margin-left":(b-d)/2,height:c,width:d});a.css("visibility","visible");Aa=!1}function G(a){var b=w.find("#ivLargeImage");b.css("visibility","hidden");b.empty();h.animateStageIn(b);b.append(a);z()}function P(){ca&&ca.pause();w.find("#ivLarge360").css("display","none");w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");r()}function O(e){P();w.find("#ivLargeImage").css("display","block");var g;"hero-image"===e?b.isDefined(ga)&&(g=m(ga[N.index])):b.isDefined(ha)&&
(g=m(ha[N.index]));if(b.isDefined(g)){w.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),c=w.find("#ivLargeImage");h.animateStageOut(c,function(){d.load(function(){G(d)});if(d[0].complete)G(d);else{c.empty();var b=(c.height()-104)/2,e=(c.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:b+"px",left:e+"px"}).appendTo(c)}})}}function K(){var a=parseInt(N.index,10)+1;a>=da.length||w.find("#ivVideo_"+a).click()}function c(){var a;
b.isDefined(da)&&(a=da[N.index]);if(b.isDefined(a)){P();var e=w.find("#ivLargeVideo").css("display","block");ca?(ca.isDetached()&&ca.attach(e[0]),b.loadMediaIntoAiry(ca,a,wa,B.tabletWeb),ca.show()):(ca=b.createAiryInstanceForChromeful(e,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ca.bind("ended",K));ca.play({isAsync:!0})}}function A(){C();var a;a="hero-image"===N.type?w.find("#ivHeroImage_"+N.index):"image"===N.type?w.find("#ivImage_"+N.index):"chromeful-video"===N.type||"chromeless-video"===N.type?
w.find("#ivVideo_"+N.index):"360-spin"===N.type?w.find("#iv360"):b.isDefined(ga)?w.find("#ivHeroImage_"+N.index):w.find("#ivImage_"+N.index);b.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));q(a)}function q(a){w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(N.type="chromeful-video",N.index=a.attr("id").split("_")[1],c()):a.hasClass("ivHeroImage")?(N.type="hero-image",N.index=a.attr("id").split("_")[1],O(N.type)):a.hasClass("iv360Image")?(N.type="360-spin",
N.index=0,t()):(N.type="image",N.index=a.attr("id").split("_")[1],O(N.type))}function t(){P();w.find("#ivLarge360").css("display","block");g();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},200);E();k.postCountMetric("dppc_click360");sa=Date.now()}function r(){0<sa&&(y("dppc_duration360",Date.now()-sa),sa=0)}function y(a,b){p.ue&&p.ue.count(a,b)}function E(){if(0<pa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},
200)}}function J(b,e){if(pa<b.length){var g=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:ra+"px"});g.hide();e.append(g);g.get(0).onload=function(){e.closest(document.documentElement).length&&(pa++,1===pa&&(E(),0<sa&&y("dppc_loadTime360",Date.now()-sa)),0<Ga&&y("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),g.show(),xa=5*T.imageLocations[Math.floor(ya/T.imageLocations[0].length)][ya%T.imageLocations[0].length],J(b,e))};g.attr("src",b[pa].replace(/(\._SP)\d+(,)\d+/,
"$1"+ta+"$2"+ua));Ga=Date.now()}}function v(a){if(b.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var e=T.spriteWidthSizes,g=e.length,d=e[0],c=e[g-1];if(a<=d)return d;if(a>c)return c;for(d=0;d<g;d++)if(a>e[d]&&a<=e[d+1])return e[d+1]}else return a}function g(){var b=w.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,e())}function e(){if(b.isDefined(T.spriteURLs)&&b.isDefined(w)&&Ha&&!Ia){var e=w.find("#ivLarge360"),g=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});b.isDefined(T.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",T.staticImages.hint360).appendTo(g);a("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(g);g.appendTo(e);var g=T.imageWidth,d=T.imageHeight,c=e.parent().width(),f=e.parent().height(),h=0,q=0;g/d>c/f?(ta=v(c),ua=Math.round(d/g*ta),na=Math.ceil(c),ra=Math.ceil(ua/ta*c),q=(f-ra)/2):(ua=v(f),ta=Math.round(g/d*ua),ra=Math.ceil(f),
na=Math.ceil(ta/ua*f),h=(c-na)/2);e.css({"margin-left":h,"margin-top":q,width:na+"px",height:ra+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*na+"px");J(T.spriteURLs,w.find("#image-360-sprites"),0);g=w.find("#ivLarge360");g.bind("mousedown",S);g.bind("touchstart",n);g.bind("touchmove",u);g.bind("touchend",R);a(document).bind("mousemove",D);a(document).bind("mouseup",M);b.isDefined(B.staticImages.grab)&&e.css("cursor","url('"+B.staticImages.grab+"'), auto");
Ia=!0}}function n(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function u(a){Ba&&(Q(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function R(a){Ba&&(Ba=!1)}function S(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(B.staticImages.grabbing)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function D(a){Ca&&(Q(a.originalEvent.clientX-
Ka),Ka=a.originalEvent.clientX)}function M(a){Ca&&(Ca=!1,b.isDefined(B.staticImages.grab)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function Q(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var e;a=360;for(var g=0;g<pa;g++)for(var d=0;d<T.imageLocations[g].length;d++){var c=Math.abs(xa-5*T.imageLocations[g][d]);c<a&&(a=c,e=g*T.imageLocations[0].length+d)}e!==ya&&(a=Math.floor(e/T.imageLocations[0].length),
a!==Math.floor(ya/T.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),g=w.find("#image-360-sprites").children(),La.drawImage(g[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=e;a=e%T.imageLocations[0].length*-1*na;e=-1*Math.floor(e/T.imageLocations[0].length)*ra;g=w.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+
e+"px, 0)");g.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function aa(){w.delegate(".ivThumb","click",function(){var b=a(this);q(b)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");N.type="chromeful-video";N.index=b.attr("id").split("_")[1];c()})}function U(){ca&&!ca.isDetached()&&(wa.volume=ca.getVolume(),ca.detach(),!document.all||p.atob||document.addEventListener||(ca=null));w.find("#ivLargeImage").empty();
r()}function V(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function fa(b){var e=qa.left-(b.pageX-Da[0])*Ea;f.capabilities.rtl&&(e=qa.left-(a(p).width()-b.pageX-Da[0])*Ea);b=qa.top-(b.pageY-Da[1])*Ea;e=V(e,Fa.left);b=V(b,Fa.top);w.find(".fullscreen").css({left:e,top:b})}function va(){w.delegate("#ivLargeImage","click",function(a){if(Aa)z();else if(za){w.find(".fullscreen").removeAttr("style");if(za){var b=w.find("#ivLargeImage"),e=b.find(".fullscreen");Qa?b.css("cursor","url('"+B.staticImages.zoomOut+
"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var g=w.find("#ivLargeImage");Fa.left=g.width()-e.width();Fa.top=g.height()-e.height();var g=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+g];qa.top=g-e.height()/2;qa.left=d-e.width()/2;e.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(e.height()/b.height(),e.width()/b.width())}fa(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&fa(a)})}function ka(e){if(b.isImmersiveViewEnabled(B,
Z.getCurrentItem().color))if(Ma){var g=e.$event.originalEvent;g.acknowledge&&g.acknowledge(e.$currentTarget[0]);Pa=b.isDefined(e)&&"button-360-click"===e.action;d.isEnabled&&F.logImmersiveViewRequestServed(d);k.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(X))X.show();else{e=a("#auiImmersiveViewDiv");var g=a(p).height()-150,c=a(p).width()-75;X=Ma.create(e,{name:"immersiveView",activate:"onclick",width:c,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Na){w=a("#ivMain");
e=Z.getCurrentItem().color;ha=B.colorImages[e];ga=B.heroImage[e];da=B.useChildVideos?B.colorToVideo[e]:B.videos;Oa=Y()&&B.spin360ColorEnabled[e];T=Y()?B.spin360ColorData[e]:ea;C();la=W=oa=ba=0;b.isDefined(ga)&&(W=ga.length);b.isDefined(ha)&&(ba=ha.length);b.isDefined(da)&&(oa=da.length);Oa&&(la=1);h.populateTitle(w.find("#ivTitle"),45,B);h.populateVariationSelection(w.find("#ivVariationSelection"));e=w.find("#ivMediaSelect");0===ba+la||0===oa?(e.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):
(e.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(B.staticStrings.allMedia+" ("+(W+ba+la+oa)+")").appendTo(e),a("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(W+ba+la)+")").appendTo(e),a("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+oa+")").appendTo(e),e.parent().show(),e.val("all"));e=w.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();for(var g=W+ba+oa+la,n=c=0;c<g;)for(var q=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),
r=0;3>r&&c<g;r++,c++,n++)if(n<W){var t=ga[c].thumb,A=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+c).appendTo(q);A.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(t)+'") center no-repeat')}else if(n>=W&&n<ba+W)t=ha[c-W].thumb,A=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(c-W)).appendTo(q),A.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(t)+
'") center no-repeat');else if(n>=W+ba&&n<ba+W+la)A=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),A.find(".ivThumbImage").css("background",'url("'+(b.isDefined(B.staticImages.icon360)?h.getResizedThumbnailURL(B.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=da[c-ba-W-la],A=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(c-ba-W-la)).appendTo(q),A.find(".ivThumbImage").css("background",
'url("'+t.thumbUrl+'") center no-repeat'),b.isDefined(t)){var u={position:"triggerTop"},m=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");m.find(".ivVideoPopoverTitle").text(t.title);m.find(".ivVideoPopoverDuration").text(t.durationTimestamp);u.inlineContent=m[0];f.declarative.create(A,"a-tooltip",u)}e=w.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();g=e.find(".placeholder");for(c=0;c<oa;c++)n=da[c],q=g.clone().removeClass("placeholder").appendTo(e),
q.attr("id","ivVideoList_"+c),q.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(n.title),q.find(".ivThumbDuration").text(n.durationTimestamp);w.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=B.airyConfig;Na=!1;Ra()}}else p.performance&&performance.now&&p.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}function ma(a){var g=
B.colorToAsin[a],d={},c=500;if(g&&g.asin){d.params={asin:g.asin};var f="360"+g.asin,n=Date.now();d.success=function(g){y("dppc_asyncRequestTime360",Date.now()-n);g&&b.isDefined(g.spin360.spin360Model)?(b.ajaxState(f,"success"),B.spin360ColorData[a]=g.spin360.spin360Model,a===Z.getCurrentItem().color&&(T=B.spin360ColorData[a],e())):d.error()};d.error=function(){k.postCountMetric("dppc_asyncFailed360");y("dppc_asyncRequestTime360",Date.now()-n);c*=2;16E3>=c?setTimeout(function(){n=Date.now();l.load("/gp/product/features/apparel-main-image/360.html",
d)},c):b.ajaxState(f,"fail")};b.ajaxState(f)&&"fail"!==b.ajaxState(f)||(l.load("/gp/product/features/apparel-main-image/360.html",d),b.ajaxState(f,"sent"))}}function Y(){return b.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var ia,B,Z,ja,X,w,ga,ha,da,W,ba,oa,la,N,ca,wa,T,Oa,na,ra,ua,ta,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,sa=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;x.when("a-modal").execute(function(a){Ma=a});var Ra=
f.once(function(){L();aa();va();f.on("a:popover:afterUpdatePosition:immersiveView",H);f.on("a:popover:afterShow:immersiveView",A);f.on("a:popover:afterHide:immersiveView",U);I()});return function(e,g,c,n){ia=this;B=e;Z=g;d.refToModel=Z;ja=n;Y()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);b.isDefined(B.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
h.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));ia.render=function(a,e,g,d,c,n){Na=!0;Y()&&B.spin360ColorEnabled[a]&&!b.isDefined(B.spin360ColorData[a])&&(B.spin360ColorData[a]={},ma(a));b.isImmersiveViewEnabled(B,Z.getCurrentItem().color)&&Y()&&B.spin360ColorEnabled[a]&&(e===B.maxAlts&&(a=d.find(".item.imageThumbnail"),g=d.find(".item.videoThumbnail"),b.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),e--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
f.declarative.create(a,"button-360-click"),d.append(a),e++,k.postCountMetric("dppc_display360"));return e};ia.update=function(a){};b.isImmersiveViewEnabled(B,Z.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ja.register("imageClick",ka);ja.register("button360Click",ka)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,b,l,k,d,F){function h(){var b=
L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),b=b.height()-F.getDimension(d,"padding-top")-F.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);P=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<P?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",b);f.trigger("dp:image-block:immersive-view:resize")}function m(){f.trigger("dp:image-block:immersive-view:reset")}function I(h){if(b.isImmersiveViewEnabled(H,L.getCurrentItem().color))if(K){var t=h.$event.originalEvent;t.acknowledge&&t.acknowledge(h.$currentTarget[0]);k.isEnabled&&d.logImmersiveViewRequestServed(k);l.postCountMetric("dppc_immersiveViewOpened");b.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===
h.action?(O=h.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());t=L.getImmersiveViewModalInstance();if(b.isDefined(t))t.show();else{h=a("#auiImmersiveViewDiv");var t=Math.min(Math.max(a(p).height()-150,540),1080),r=Math.min(Math.max(a(p).width()-75,990),1980),t=K.create(h,{name:"immersiveView",activate:"onclick",width:r,height:t,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(t);h.click()}G&&(G=!1,c(),f.trigger("dp:image-block:immersive-view:init"))}else p.performance&&
performance.now&&p.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}var C,H,L,z,G=!0,P=0,O,K;x.when("a-modal").execute(function(a){K=a});var c=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",h);f.on("a:popover:afterShow:immersiveView",h);f.on("a:popover:afterHide:immersiveView",m)}),A=f.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(d){var c=b.filter(".iv-active");c.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+c.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();c=a(this).find("a").attr("data-iv-tab-view");a("#"+c).show();"ivVideosTab"===c&&(d.clickTimeStamp=O||d.timeStamp);f.trigger("dp:ivTabs:"+c+":select",d);l.postCountMetric("dppc_"+c);return!1})});return function(a,d,c,f){C=this;H=a;L=d;k.refToModel=
L;z=f;C.render=function(a,b,d,g,e,c){l.postCountMetric("dpcc_altThumbs_"+b);G=!0};C.update=function(a){};C.getTitle=function(){};C.getVariationSelectionInfo=function(){};A();b.isImmersiveViewEnabled(H,L.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");z.register("imageClick",I);z.register("button360Click",I);b.useTabbedImmersiveView(H)&&z.register("videoIngressClick",I)}});"use strict";x.when("A").register("ImageBlockLoader",function(f){return{load:function(a,b){b=b||{};b.timeout=b.timeout||
4E3;f.ajax(a,b)}}});"use strict";x.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(f,a,b,l,k,d,F,h){function m(a){return null!==a&&"undefined"!==typeof a}function I(b){var e=0;a.each(b,function(a,b){var g=parseInt(b[1],10);g>e&&(e=g)});return e}function C(b){var e=0;a.each(b,function(a,b){var g=parseInt(b[0],10);g>e&&(e=g)});return e}function H(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;
a=I(a);0<a&&(b=Math.min(b,a));return b}function x(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=C(a);0<a&&(b=Math.min(b,a));return b}function z(b){var e;a.each(b,function(a,b){m(e)||(e=b[1]/b[0])});return e||1}function G(a,b,d){b.fadeTo(500,0,function(){O(a,d);b.fadeTo(500,1)})}function P(a){a&&a.toggle()}function O(b,e){var d=e.find("img");m(d[b])&&a(d[b]).click()}function K(a,b){v[a]=b?b:v[a];return v[a]}function c(b,e,d){d=d||J;d=d.colorImages;if(1>d.length||!m(d[b])||!m(e))return-1;
var c=-1;a.each(d[b],function(a,b){b.variant===e&&(c=a)});return c}function A(b,e,d){d=d||J;d=d.colorImages;return!(m(d)&&m(d[b])&&m(d[b][e])&&m(d[b][e].main))||1>a.map(d[b][e].main,function(a,b){return b}).length?-1:d[b][e]}function q(a,b,d,c){c.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function t(b,e){var d;if(d=b.useIV)d=b.colorImages&&b.colorImages[e]&&0<b.colorImages[e].length?!0:!1;F.isEnabled&&(F.IVApplicaple=d,h.logImmersiveViewApplicability(a,
F));return d}var r,y,E,J=a.extend(!0,{},k,d),v={};return{isDefined:m,isDefinedAndEmpty:function(a){return m(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return m(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return m(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:z,getMaxHeightOfMainImage:x,getMaxWidthOfMainImage:H,getMaxDimensionsOfMainImage:function(a,
b,d){if(d.acEnabled)return[b.height(),b.width()];var c=x(a,b,d);b=H(a,b,d);a=z(a);d=b/a;b=Math.min(b,c*a);c=Math.min(c,d);return[c,b]},getContainerHeight:function(a,b,d){var c=a.get(0);a=0;if(m(c)){a=c.offsetWidth/b;a=Math.min(a,d);var f;b=J.mainImageHeightPartitions;d=J.mainImageMaxSizes;if(m(d)&&m(b)){for(var h=0,q=p.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)q>b[c]&&(h=c+1);d.length>=h&&(f=d[h])}m(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(b,
d){if(b){d=d||J;var c="";a.each(d.visualDimensions,function(a,d){b[d]&&(c+=" "+b[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,d,c){var h=d.find(".template").clone().removeClass("template").addClass("item"),q=document.createElement("img");q.src=b;h.find(".placeHolder").replaceWith(q);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&h.addClass("heroImageThumbnail");m(c)&&h.addClass(c);f.declarative.create(h,"thumb-action",a);h.attr&&h.attr("data-ux-click","");d.append(h)},
selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(d,e,c,f,h,q,A,t){var k=a.extend({},c.foresterMetadataParams);null!==f&&(k.method+="."+f);var m=[];e.disabledViewIds&&(m=e.disabledViewIds);return b.embed({parentElement:d[0],streamingUrls:e.url,contentId:e.mediaObjectId,contentMinAge:Number(e.minimumAge||"")||
0,contentTitle:e.title,swfUrl:c.swfUrl,foresterMetadataParams:k,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:e.slateUrl,postMediaSlate:e.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===f?r||(r=!0,l.postCountMetric("dppc_chromefulVideoPlayedIV")):y||(y=!0,l.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(a,b,d){h&&(G(0,q,t),P(A))}}],disabledViewIds:m})},loadMediaIntoAiry:function(a,
b,d,c){a&&a.getMediaSourceInfo()!==b.url&&(c?(E={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(E)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:G,toggleVideoCaption:P,selectThumbnail:O,spinner:function(b,d){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));d?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:K,getIndexForVariant:c,getImageHash:A,lazyLoadingRequired:function(a,b,d){b=Math.max(c(a.color,b.getCurrentItem().variant,d),0);b=-1!==A(a.color,b,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a=!a||"success"!==K(a);return!d.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:q,repositionVideoBanner:function(a,b,d,c){setTimeout(function(){var d=a.width()/a.height();q(d,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!m(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=d.videos;return m(a)&&m(a[b])&&m(a[b].url)?a[b]:-1},isImmersiveViewEnabled:t,playVideoInImmersiveView:function(a,b){return t(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return m(E)?E.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){p.ue&&p.ue.tag&&p.ue.tag(a)}}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",
function(f,a,b,l){function k(d,c,f,h){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var k=G.getCurrentItem();if(!h||"chromeless-video"!==k.type||!z.autoplayVideo){h=0;if("hero-image"===k.type){h=F(k.color,k.variant);if(-1===h)return;h=-1!==h?h:0}var m=c+h;m>=f&&(h=0,m=c);c=l.getHeroImageHash(z,k.color,h);-1!==c&&(P.dispatch("updateModel",{data:{index:h,thumbnailIndex:m,variant:c.variant,type:"hero-image"}}),c=d.find(".item").get(m),b.selectGivenThumbnail(a(c),d))}}}function d(d,c,f){if("hero-video"===
G.getCurrentItem().type)return d;c=z.heroImage&&z.heroImage[c];var h=d;b.isDefined(c)&&(a.each(c,function(a,c){d<z.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:c.variant},c.thumb,O,"imageThumbnail"),d++)}),k(O,h,d,f));return d}function F(d,c){var f=z.heroImage;if(1>f.length||!b.isDefined(f[d])||!b.isDefined(c))return-1;var h=-1;a.each(f[d],function(a,b){b.variant===c&&(h=a)});return h}function h(){if(K.length&&z.repositionHeroImage){var a=l.getHeroDimParams(z,G.getCurrentItem()),
d;b.isDefined(a)&&(d=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",K.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function m(a,d,c,f){if(K.length&&a&&d){if("function"===typeof c||f){var h=new Image;h.onload=f?function(){K.css("background-image",'url("'+a+'")')}:c;h.src=a}c=d[1];var h=d[0],k;f||K.css({"background-image":'url("'+a+'")'});z.repositionHeroImage&&(d=
l.getHeroDimParams(z,G.getCurrentItem(),d),b.isDefined(d)&&(c=d.width,h=d.height,k=b.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));K.css({"background-position":k,"background-size":c+"px "+h+"px ","max-width":c+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function I(b,d,c,f){b=l.getHeroImageHash(z,b,d);if(-1===b)return-1;d=a.map(b.main,function(a,b){return b})[0];m(d,b.main[d],c,f)}function p(a,b,d){if("hero-image"!==a.type)return-1;var c=F(a.color,G.getCurrentItem().variant),
c=-1!==c?c:0;if(-1===l.getHeroImageHash(z,a.color,c))return-1;var f=G.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;a.variant=f.variant;a.index=c;H(a,b,d)}function H(a,b,d){var h=l.getHeroImageHash(z,a.color,a.index),k;k=a&&c&&f.equals(a,c)?!0:!1;c||(c=a);if(!k&&a||b)I(a.color,a.index,b,d),c=a;K.removeClass("hide-background");f.trigger("dp:image-block:update",h)}var x,z,G,P,O,K,c={};return function(c,f,k,m){x=this;z=c;G=f;P=m;z.heroImage[z.landingAsinColor]=z.heroImage[z.defaultColor];
x.render=function(b,c,f,h,g,e,k){O=h;K=a("#heroImage");b=d(c,b,e);p(G.getCurrentItem(),k,e);return b};x.update=function(a){var d=a.data;"ingress"!==d.type&&K.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=G.getCurrentItem().type,-1!==p(d)&&(a.captured=!0)):"hero-image"===d.type&&(H(d),"click"!==a.type&&z.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,O))};P.register("resize",h)}});"use strict";x.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(f,a,b){var l,k,d,F;return function(a,m,p,C){l=this;k=a;d=C;l.render=function(a,d,h,m,p,I,C){F=m;l=this;h=k.maxAlts;m=d;p=k.colorImages[a]?k.colorImages[a].length:0;p+=b.getVideosCount(a,k);a=k.heroImage[a];I=0;a&&(I=a.length);a=p+I;a>h&&(h=a-h,a=F.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",m={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(h),f.declarative.create(a,"thumb-action",
m),F.append(a),m=d++);return m};l.update=function(a){"ingress"===a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";x.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,b,l){this.getImageHash=function(b){var d=l.getCurrentItem();b=f.getIndexForVariant(d.color,b||"MAIN",a);return f.getImageHash(d.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});
"use strict";x.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(f,a){function b(a,b){var f;if(b.repositionHeroImage){f=a[1];var k=a[0];if(768>=(p.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))f*=.7,k*=.7;else{var l=((p.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,l=Math.max(Math.min(l,1),0);f*=.7+.3*l;k*=.7+.3*l}f=[f,k]}return f}function l(b,f,h){var k;if(h.repositionHeroImage){var l=p.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth;h=h.heroFocalPoint;if(a.isDefined(h)){k=Math.max((l-Math.min(1500,b))/2,0);var C=Math.max((l-b)/2,0);k-=C;l=Math.max(Math.min(l,1500),1024);k=k+(l-420-23)/2-b/f[1]*h}}return k}function k(b,k,h){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[k])&&a.isDefined(b[k][h])&&a.isDefined(b[k][h].main))||1>f.map(b[k][h].main,function(a,b){return b}).length?-1:b[k][h]}return{getHeroImageHash:k,getHeroDimParams:function(d,F,h){if(d.repositionHeroImage){if(!a.isDefined(h)){h=
k(d,F.color,F.index);if(-1===h)return;F=f.map(h.main,function(a,b){return b})[0];h=h.main[F]}F=b(h,d);d=l(F[0],h,d);return{height:F[1],width:F[0],xPos:d,yPos:75}}}}});"use strict";x.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,b){function l(a,k){var h=f.copy(a);if(b.isDefined(a)&&a.length>k){try{for(var m=-1,l=0;l<a.length;l++){var p=a.charAt(l);if(" "===p||"."===p||"?"===p||";"===p||","===p||":"===p)m=l;if(l===k-4){h=a.substring(0,-1===m?l:m);break}}}catch(x){h=
a.substring(0,k-3)}h+="..."}return h}function k(a,b){var f=a.lastIndexOf(".");return a="_"===a.charAt(f-1)?a.substring(0,f-1)+b+a.substring(f):a.substring(0,f)+"."+b+a.substring(f)}return{getDimension:function(a,b){var f=parseInt(a.css(b),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,b){f.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){f.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},
detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:k,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var f="_AA50_";b&&(f+="FMpng_RI_");return k(a,f)},populateVariationSelection:function(d){if(b.isDefined(p.DetailPage)&&b.isDefined(p.DetailPage.StateController)){d.empty();var f=p.DetailPage.StateController.getState(),h=f.variation_label_order,k;for(k in h)if(h.hasOwnProperty(k)){var l=h[k],x=f.selected_variations[l],l=f.variation_display_labels[l];x&&a("\x3cdiv/\x3e").addClass("ivVariations").text(l+":"+x).appendTo(d)}}},populateTitle:function(a,b,f){a.html(f.title);a.attr("title",a.text());
a.html(l(f.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,f,k){p.ueLogError&&p.ueLogError(k,{logLevel:a,attribution:b,message:f})}}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,b,l,k){function d(){k.populateTitle(t.find("#ivTitle"),160,A)}function p(){var a=q.getCurrentItem().color;y=A.colorImages[a];
r=A.heroImage[a];E=J=0;b.isDefined(r)&&(E=r.length);b.isDefined(y)&&(J=y.length)}function h(a){return a.hiRes||a.large||a.main[a.main.length-1]}function m(){var a=t.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var e=c.width(),f=c.height();0<c.length&&(c[0].naturalWidth&&(e=c[0].naturalWidth),c[0].naturalHeight&&(f=c[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,h=Math.min(b/e,d/f),k=f*h,l=e*h;1>h?(g?a.css("cursor",
"url('"+A.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),u=!0):u=!1;e=Math.min(l,e);f=Math.min(k-20,f);c.css({"margin-top":(d-f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");n=!1}function x(a){var b=t.find("#ivLargeImage");b.css("visibility","hidden");b.empty();k.animateStageIn(b);b.append(a);m()}function C(d){t.find("#ivLargeImage").css("display","none");t.find("#ivLargeImage").css("display",
"block");var c;"hero-image"===d?b.isDefined(r)&&(c=h(r[v.index])):b.isDefined(y)&&(c=h(y[v.index]));if(b.isDefined(c)){t.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),f=t.find("#ivLargeImage");k.animateStageOut(f,function(){e.load(function(){x(e)});if(e[0].complete)x(e);else{f.empty();var b=(f.height()-104)/2,d=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",A.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(f)}})}}function H(a){t.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivHeroImage")?v.type="hero-image":v.type="image";v.index=a.attr("id").split("_")[1];C(v.type);l.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(v.index,10)+1)+"_"+(E+J))}function L(){t.delegate(".ivThumb","click",function(){var b=a(this);H(b)})}function z(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function G(a){var b=S.top-(a.pageY-M[1])*D;a=z(S.left-(a.pageX-M[0])*D,R.left);b=z(b,R.top);t.find(".fullscreen").css({left:a,top:b})}function P(){t.delegate("#ivLargeImage",
"click",function(a){if(n)m();else if(u){t.find(".fullscreen").removeAttr("style");if(u){var b=t.find("#ivLargeImage"),d=b.find(".fullscreen");g?b.css("cursor","url('"+A.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));n=!0;var c=t.find("#ivLargeImage");R.left=c.width()-d.width();R.top=c.height()-d.height();var c=b.height()/2,e=b.width()/2;M=[b.offset().left+e,b.offset().top+c];S.top=c-d.height()/2;S.left=e-d.width()/2;
d.css({position:"relative",left:S.left,top:S.top});D=Math.max(d.height()/b.height(),d.width()/b.width())}G(a);l.postCountMetric("dpcc_iv_largeImageCLick")}});t.delegate("#ivLargeImage","mousemove",function(a){n&&G(a)})}function O(){t.find("#ivLargeImage").empty()}function K(c){if(e){t=a("#ivMain");p();v=q.getCurrentItem();d();k.populateVariationSelection(t.find("#ivVariationSelection"));c=t.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var f=E+J,g=0,h=0;g<f;)for(var l=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),
n=0;4>n&&g<f;n++,g++,h++)if(h<E){var m=r[g].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(l);u.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(m)+'") center no-repeat')}else h>=E&&h<J+E&&(m=y[g-E].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-E)).appendTo(l),u.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(m)+
'") center no-repeat'));Q();e=!1}else d();c=a("#ivImagesTab").height();t.css("height",c);f=t.find("#ivTitle").outerHeight(!0);g=t.find("#ivVariationSelection").outerHeight(!0);h=t.find("#ivThumbs");l=k.getDimension(h,"margin-top")+k.getDimension(h,"margin-bottom");h.css("height",c-f-g-l);t.find("#ivLargeImage").css("height",c);c=t.find("#ivStage");f=t[0]&&t[0].getBoundingClientRect&&Math.floor(t[0].getBoundingClientRect().width)||t.width();c.css("width",f-k.getDimension(t,"padding-left")-k.getDimension(t,
"padding-right")-t.find("#ivThumbColumn").width()-k.getDimension(c,"margin-left")-k.getDimension(c,"margin-right"));v=q.getCurrentItem();c="hero-image"===v.type?t.find("#ivHeroImage_"+v.index):"image"===v.type?t.find("#ivImage_"+v.index):b.isDefined(r)?t.find("#ivHeroImage_"+v.index):t.find("#ivImage_"+v.index);b.isjQueryObjDefined(c)||(c=t.find("#ivImage_0"));H(c)}var c,A,q,t,r,y,E,J,v,g=navigator.userAgent.match(/msie|trident/i),e=!0,n=!1,u=!1,R={},S={},D,M,e=!0,Q=f.once(function(){L();P();k.attachImmersiveViewResizeHandler(K);
k.attachTabDeselectHandler("ivImagesTab",O)});return function(b,d,f,g){c=this;A=b;q=d;c.render=function(b,c,d,f,g,h){e=!0;p();0===E+J?k.hideTabHeading("ivImagesTabHeading"):k.unhideTabHeading("ivImagesTabHeading");1===E+J?a("#ivThumbs").hide():a("#ivThumbs").show()};c.update=function(a){};k.attachTabSelectHandler("ivImagesTab",K)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(f,a,b,l,k,d,F){function h(){y.delegate(".ivThumb","click",function(){var b=a(this);y.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=b.attr("id").split("_")[1])})}function m(){if(U){var b=a("#ivVideosTab").height();y.css("height",b);var c=y.find(".vse-lb-container");J=b-k.getDimension(c,"padding-top")-k.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(D){y.css({"max-width":Math.floor(1.77*
J)});return}var b=y.find(".vse-player-container"),c=y.find(".vse-video-action-strip"),d=y.find(".vse-lb-video-metadata"),e=Math.floor(J-k.getDimension(d,"height")-k.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}M&&(b=y.find(".vse-vertical-scroll"),c=k.getDimension(b,"margin-top")+k.getDimension(b,"margin-bottom"),
b.css("max-height",J-c))}function x(){C();v&&v.pause();Q=!1;R=!0;u=null;aa=!0;U=!1}function C(){Q=!1;v&&v.pause()}function H(c){u=c.clickTimeStamp?c.clickTimeStamp:f.now();b.isDefined(r)&&(r.eventTimestamp=u);S&&(F.get(f,"#ivVideoBlock",t,ka,ma),y=a("#ivVideoBlock"),q.getCurrentItem(),E=q.getCurrentItem(),V());m();Q=!0;S=!1;G()}function L(b){S&&(y=a("#ivVideoBlock"),q.getCurrentItem(),E=q.getCurrentItem(),V());Q&&G();m()}function z(a){v=a.player;U&&(K(),G())}function G(){if(v&&Q&&(y.find(".vse-lb-container").animate({opacity:1},
200),v.play(r),l.postCountMetric("dpcc_vse_videoBlock_video_played"),R)){var a=p.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,l.postTimeMetric("dpcc_vse_vitff",a),R=!1)}}function P(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function O(a){g=a.popover.$popover;U=!0;K()}function K(){U&&aa&&Q&&v&&(g.addClass(f.$(g).find(".vse-lb-container").data("cssClass")),f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:r}),
m(),aa=!1)}var c,A,q,t,r,y,E,J,v,g,e,n,u,R=!0,S=!0,D=!1,M=!1,Q=!1,aa=!0,U=!1,V=f.once(function(){h();k.attachImmersiveViewResizeHandler(L);k.attachTabDeselectHandler("ivVideosTab",C);k.attachImmersiveViewResetHandler(x)}),fa=function(c,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");l.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=q.getCurrentItem().color;c=b.getVideoHash(c,0,A);v||(v=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,A.airyConfig,"ImmersiveView"));
D=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});Q&&D&&v.play({isAsync:!0})},ea=function(b,c,d){S||F.get(b,"#ivVideoBlock",t,ka,ma);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ka=function(a,b,c){M=!0;m()},ma=function(a,b,c){l.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,g,h,l){c=this;A=a;q=g;c.render=function(a,c,g,h,l,m){a=q.getCurrentItem().color;c=b.getVideoHash(a,0,A);!0===m?e=A.mediaAsin:(e=
A.colorToAsin[a]&&A.colorToAsin[a].asin,e=b.isDefined(e)?e:A.mediaAsin);n=null!==A.vseVideoDataSourceTreatment&&"T1"===A.vseVideoDataSourceTreatment?"ASIN":"physicalID";S=!0;-1===c?k.hideTabHeading("ivVideosTabHeading"):(k.unhideTabHeading("ivVideosTabHeading"),t={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:e,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:n,videoURL:c.url,imageURL:c.slateUrl},
requestId:A.dpRequestId,metadata:{ProductTitle:A.title}},r={videoUrl:t.video.videoURL,contentId:t.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(u)?u:f.now(),imageUrl:t.video.imageURL,productAsin:t.product.contentID,index:0},b.isDefinedAndNotEmpty(v)&&(v.destroy(),v=null),d.get(f,"#ivVideoBlock",t,ea,fa))};c.update=function(a){};k.attachTabSelectHandler("ivVideosTab",H);f.on("vsePlayer-detailpage-imageblock",z);f.on("a:popover:afterShow:immersiveView",O);f.on("a:popover:beforeHide:immersiveView",
P)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(f,a,b,l,k,d,p,h,m){function x(){var b=a("#iv360Tab").height();D.css("height",b);var c=D.find("#ivTitle360").outerHeight(!0),d=D.find("#ivVariationSelection360").outerHeight(!0),e=D.find("#ivThumbs360"),f=p.getDimension(e,"margin-top")+p.getDimension(e,"margin-bottom");
e.css("height",b-c-d-f);b=D.find("#ivStage360");c=D[0]&&D[0].getBoundingClientRect&&Math.floor(D[0].getBoundingClientRect().width)||D.width();b.css("width",c-p.getDimension(D,"padding-left")-p.getDimension(D,"padding-right")-D.find("#ivThumbColumn360").width()-p.getDimension(b,"margin-left")-p.getDimension(b,"margin-right"))}function C(){G();var a=D.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});p.animateStageIn(a)},200);H()}function H(){if(0<w){var a=D.find(".iv360Hint");
a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function L(b,c){if(w<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*Q+"px",height:aa+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(w++,1===w&&(H(),0<B&&(k.time("dppc_loadTime360",Date.now()-B,u.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-B))),0<Z&&(k.time("dppc_perSpriteloadTime360",Date.now()-Z,u.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-
Z)),D.find("#iv360Spinner").hide(),e.show(),Y=5*M.imageLocations[Math.floor(ia/M.imageLocations[0].length)][ia%M.imageLocations[0].length],L(b,c))};e.attr("src",b[w].replace(/(\._SP)\d+(,)\d+/,"$1"+V+"$2"+U));Z=Date.now()}}function z(a){if(b.isDefined(M.spriteWidthSizes)&&0<M.spriteWidthSizes.length){var c=M.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>c[e]&&a<=c[e+1])return c[e+1]}else return a}function G(){var b=D.find("#ivLarge360");b.children("#image-360-sprites").length||
(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",u.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),ka=!0,P())}function P(){if(b.isDefined(M.spriteURLs)&&
b.isDefined(D)&&ka&&!ma){var d=D.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(M.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",M.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(u.staticStrings.dragToSpin).appendTo(e);e.appendTo(d);var e=M.imageWidth,f=M.imageHeight,g=d.parent().width(),h=d.parent().height(),
k=0,l=0;e/f>g/h?(V=z(g),U=Math.round(f/e*V),Q=Math.ceil(g),aa=Math.ceil(U/V*g),l=(h-aa)/2):(U=z(h),V=Math.round(e/f*U),aa=Math.ceil(h),Q=Math.ceil(V/U*h),k=(g-Q)/2);d.css({"margin-left":k,"margin-top":l,width:Q+"px",height:aa+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*Q+"px");L(M.spriteURLs,D.find("#image-360-sprites"),0);e=D.find("#ivLarge360");e.bind("mousedown",A);e.bind("touchstart",O);e.bind("touchmove",K);e.bind("touchend",c);a(document).bind("mousemove",
q);a(document).bind("mouseup",t);b.isDefined(u.staticImages.grab)&&d.css("cursor","url('"+u.staticImages.grab+"'), auto");ma=!0}}function O(a){X=!0;va=a.originalEvent.targetTouches[0].clientX}function K(a){X&&(r(a.originalEvent.targetTouches[0].clientX-va),va=a.originalEvent.targetTouches[0].clientX)}function c(a){X&&(X=!1)}function A(a){ja=!0;fa=a.originalEvent.clientX;b.isDefined(u.staticImages.grabbing)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+u.staticImages.grabbing+"'), auto"));return!1}function q(a){ja&&(r(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function t(a){ja&&(ja=!1,b.isDefined(u.staticImages.grab)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function r(a){Y-=a/Q*180;ha&&(k.count("dppc_360dragToSpin",u.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));ha=!1;for(a=Y;0>a;)a+=360;for(;360<a;)a-=360;Y=a;var c;a=360;
for(var e=0;e<w;e++)for(var f=0;f<M.imageLocations[e].length;f++){var g=Math.abs(Y-5*M.imageLocations[e][f]);g<a&&(a=g,c=e*M.imageLocations[0].length+f)}c!==ia&&(a=Math.floor(c/M.imageLocations[0].length),a!==Math.floor(ia/M.imageLocations[0].length)&&(b.isDefined(ga)||(ga=document.createElement("canvas").getContext("2d")),e=D.find("#image-360-sprites").children(),ga.drawImage(e[a],0,0)),a=D.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));ia=c;a=c%M.imageLocations[0].length*-1*Q;c=-1*Math.floor(c/M.imageLocations[0].length)*aa;e=D.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");e.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function y(){if(W){D=a("#ivMain360");var b=R.getCurrentItem().color;J()&&v(b);M=J()?u.spin360ColorData[b]:ea;p.populateTitle(D.find("#ivTitle360"),160,u);p.populateVariationSelection(D.find("#ivVariationSelection360"));D.find("#ivLarge360").empty();
w=0;ma=ka=!1;ia=Y=0;ba();W=!1}0!==a("#iv360Tab").height()&&(p.detachImmersiveViewResizeHandler(y),x(),C(),B=Date.now(),da=ha=!0,k.count("dppc_click360",u.mediaAsin),d.postCountMetric("dppc_click360"))}function E(a,c,e){a=u.colorToAsin[e];var f={},g=500;if(!a||!a.asin)if(e===u.defaultColor)a={asin:u.winningAsin};else return;f.params={asin:a.asin};var n="360"+a.asin,m=Date.now();f.success=function(a){k.time("dppc_asyncRequestTime360",Date.now()-m,u.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-m);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),b.ajaxState(n,"success")):f.error()};f.error=function(){k.count("dppc_asyncFailedTransient360",u.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");k.time("dppc_asyncRequestTime360",Date.now()-m,u.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);g*=2;16E3>=g?setTimeout(function(){m=Date.now();l.load("/gp/product/features/apparel-main-image/360.html",f)},g):(k.count("dppc_asyncFailed360",
u.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),b.ajaxState(n,"fail"))};b.ajaxState(n)&&"fail"!==b.ajaxState(n)||(l.load("/gp/product/features/apparel-main-image/360.html",f),b.ajaxState(n,"sent"))}function J(){return u&&b.isDefined(u.spin360ConfigEnabled)&&u.spin360ConfigEnabled}function v(a){return b.isDefinedAndNotEmpty(u.spin360ColorData[a])?!0:b.isDefined(u.spin360LazyLoadEnabled)&&u.spin360LazyLoadEnabled}function g(){da&&(k.time("dppc_duration360",Date.now()-B,u.mediaAsin),d.postTimeMetric("dppc_duration360",
Date.now()-B),da=!1)}function e(a){a=u.colorToAsin[a.color].asin;a||(a=u.mediaAsin);return a}var n,u,R,S,D,M,Q,aa,U,V,fa,va,ka=!1,ma=!1,Y=0,ia=0,B=0,Z=0,ja=!1,X=!1,w=0,ga,ha=!0,da=!1,W=!0,ba=f.once(function(){p.attachImmersiveViewResizeHandler(y);p.attachImmersiveViewResizeHandler(x);p.attachImmersiveViewResetHandler(g);p.attachTabDeselectHandler("iv360Tab",g)});return function(c,g,l,q){n=this;u=c;R=g;S=q;c=u.landingAsinColor;g=u.defaultColor;b.isDefined(u.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
p.addStyleCodeToURL(u.staticImages.icon360,"_FMpng_RI_"));J()&&(u.spin360ColorData||(u.spin360ColorData={}),c===g&&b.isDefinedAndEmpty(u.spin360ColorData[g])&&delete u.spin360ColorData[g]);f.on(m.TWISTER_DATA_EVENT,function(a){e(R.getCurrentItem())===a&&(M=h.getData(a),P(),a={type:"updatedData",data:R.getCurrentItem()},S.dispatch("updateView",a))});n.render=function(c,g,l,n,m,q){W=!0;!J()||b.isDefinedAndEmpty(u.spin360ColorData[c])&&!h.getData(e(R.getCurrentItem()))?p.hideTabHeading("iv360TabHeading"):
(u.spin360ColorData[c]=h.getData(e(R.getCurrentItem())),b.isDefinedAndNotEmpty(u.spin360ColorData[c])?(a("#ivThumbs360").hide(),p.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(u,R.getCurrentItem().color)&&J()&&v(c)&&(g===u.maxAlts&&(c=n.find(".item.imageThumbnail"),g=n.find(".item.videoThumbnail"),b.isDefined(g)&&1<g.length?g.last().remove():c.last().remove()),c=n.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(c,
"button-360-click"),n.append(c),k.count("dppc_display360",u.mediaAsin),d.postCountMetric("dppc_display360"))):b.isDefined(u.spin360LazyLoadEnabled)&&u.spin360LazyLoadEnabled?(u.spin360ColorData[c]={},p.hideTabHeading("iv360TabHeading"),E(n,g,c)):p.hideTabHeading("iv360TabHeading"))};n.update=function(a){};p.attachTabSelectHandler("iv360Tab",y)}});x.register("nexusLogger360",function(){return{count:function(f,a){p.ue&&p.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(f,a,b){p.ue&&p.ue.event({asin:b,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(f,a){var b={};return{setData:function(l){var k=l.asin;b[k]||(b[k]=l,f.trigger(a.TWISTER_DATA_EVENT,k))},getData:function(a){return b[a]}}});"use strict";x.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(f,a){try{var b=p.location.host,l={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},k=b.split(".")[1],d=-1===b.indexOf(".proxy.amazon.com")?"/vap/ew/":l[k]!==ea?l[k]:"https://www.amazon.com/vap/ew/",F="vse_lazyLoaderHook:success:",h="vse_lazyLoaderHook:error:",m="vse_preLoaderHook:success:",I="vse_preLoaderHook:error:",C="vse_lightPlayerLoaderHook:success:",H="vse_lightPlayerLoaderHook:error:",L=4E3,z=3}catch(G){a.logError("FATAL","vse_ns_desktop","[Domain] ",
G)}x.register("vse_ns_preLoaderHook",function(){function b(h,k){try{var c=h.A,l=h.block,q=h.request,t=h.handleFailure,p=h.handleSuccess,y=c.$;k--;var x=z-k-1,F=c.now();c.ajax(d+"componentbuilder",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||L,withCredentials:!0,success:function(a){var b=c.now()-F;f.postTimeMetric(m,b);f.postCountMetric(m+q.page+":"+q.placement+":"+x);y(l).html(a);p(c,q,a)},error:function(a){f.postCountMetric(I+q.page+
":"+q.placement+":"+x);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<k?b(h,k):(f.postCountMetric(I,1),t(c,q,a))}})}catch(v){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",v)}}return{get:function(a,d,c,f,h){b({A:a,block:d,request:c,handleFailure:h,handleSuccess:f},z)}}});x.register("vse_ns_lazyLoaderHook",function(){function b(k,l,c){try{var m=k.A,q=k.context,p=k.handleFailure,r=k.handleSuccess;l.attr("data-configuration");var y=atob(l.attr("data-configuration")),x=
JSON.parse(y),C={pageContext:q,configuration:x},v=m.now();c--;var g=z-c-1;m.ajax(d+"subcomponent/"+x.type,{params:C,paramsFormat:"json",method:"post",contentType:"application/json",timeout:q.timeout||L,withCredentials:!0,success:function(a){var b=m.now()-v;f.postTimeMetric(F,b);f.postCountMetric(F+q.page+":"+q.placement+":"+x.type+":"+g);l.html(a);r(m,C,a)},error:function(a){f.postCountMetric(h+q.page+":"+q.placement+":"+x.type+":"+g);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<
c?b(k,l,c):(f.postCountMetric(h,1),p(m,C,a))}})}catch(e){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",e)}}return{get:function(a,d,c,f,h){var k=a.$;k(d+" div[data-configuration]").each(function(){b({A:a,context:c,handleFailure:h,handleSuccess:f},k(this),z)})}}});x.register("vse_ns_videoPlayer",function(){function b(h,k,c){try{var l=h.A,m=h.block,p=h.request,r=h.handleFailure,x=h.handleSuccess,F=l.$;c--;var G=z-c-1,v=l.now();l.ajax(d+"subcomponent/vseplayer",{params:p,paramsFormat:"json",
crossDomain:!0,method:"post",contentType:"application/json",timeout:p.timeout||L,withCredentials:!0,success:function(a){var b=l.now()-v;f.postTimeMetric(C,b);f.postCountMetric(C+p.page+":"+p.placement+":"+G);F(m).html(a);x(l,p,a)},error:function(a){f.postCountMetric(H+p.page+":"+p.placement+":"+G);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?b(h,c):(f.postCountMetric(H,1),r(l,p,a))}})}catch(g){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",g)}}return{get:function(a,
d,c,f,h){b({A:a,block:d,request:c,handleFailure:h,handleSuccess:f},z)}}})});"use strict";x.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(f,a,b,l,k){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,f=0,m;for(m in a)a[m]&&a[m].length&&(f+=a[m].length);a="image_size_bucket:gt"+d[d.length-1];for(m=1;m<d.length;m++)if(f<=d[m]){a="image_size_bucket:"+d[m-1]+"-"+d[m];break}k.postCountMetric(a);l.addTag(a)})();(function(){var b=a.colorImages;
b&&b.initial&&b.initial.length&&(b=b.initial.length,p.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;l.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),l.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});x.when("A","get-resource-time","postMetric","afterLoad").execute(function(f,a,b){var l=f.state("desktop-landing-image-data");l&&(l=f.values(l),a=a.getResourceTimeByName("img",l),
f.each(a,function(a){a&&(a.responseEnd&&b.postCountMetric("ibDesktopLandingImageDownloadTime",p.parseInt(a.responseEnd)),a.transferSize?b.postCountMetric("ibDesktopLandingImageSizeInBytes",p.parseInt(a.transferSize)):0===a.transferSize&&b.postCountMetric("ibDesktopLandingImageCached",1))}))})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
